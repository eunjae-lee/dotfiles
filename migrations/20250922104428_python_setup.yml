name: "Python Setup"
description: "Set up Python via asdf and install PyTorch"

# Configuration that gets merged into config.yml
config:
  asdf:
    plugins:
      - python
    
    python_versions:
      - "3.11.3"
  
  python:
    packages:
      - torch
      - torchvision

# Commands to execute
up:
  - name: "Add Python plugin to asdf"
    command: "asdf plugin-add python || true"
    
  - name: "Install Python 3.11.3"
    command: "asdf install python 3.11.3 && asdf global python 3.11.3"
    
  - name: "Upgrade pip"
    command: "pip install --upgrade pip"
    
  - name: "Install PyTorch"
    command: "pip install torch torchvision"
