name: "Git Setup"
description: "Set up Git, GitHub CLI, and SSH keys"

# Configuration that gets merged into config.yml
config:
  homebrew:
    packages:
      - git
      - gh
      - lazygit
  
  git:
    ssh_setup: true

# Commands to execute
up:
  - name: "Install Git tools"
    command: "brew install git gh lazygit"
    
  - name: "Generate SSH key for GitHub"
    command: 'test -f ~/.ssh/id_rsa || ssh-keygen -t rsa -f ~/.ssh/id_rsa -N ""'
    check: "test -f ~/.ssh/id_rsa"
    
  - name: "Copy SSH public key to clipboard"
    command: "cat ~/.ssh/id_rsa.pub | pbcopy"
    
  - name: "Open GitHub SSH settings page"
    command: "open 'https://github.com/settings/ssh/new'"
